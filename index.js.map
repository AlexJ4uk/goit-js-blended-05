{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/markup-tasks.js","../src/js/local-storage-api.js","../src/js/render-tasks.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('#task-form'),\n  taskList: document.querySelector('#task-list'),\n  btnTheme: document.querySelector('#theme-btn'),\n};\n\nexport default refs;","export function createTask({ id, titleTask, descriptionTask }) {\n  return `\n    <li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${titleTask}</h3>\n      <p>${descriptionTask}</p>\n    </li>\n  `;\n}","const localKey = 'my-tasks';\n\nexport function getTasks() {\n    const data = JSON.parse(localStorage.getItem(localKey));\n    return data ?? [];\n}\n\nexport function saveTasks(tasks) {\n    localStorage.setItem(localKey, JSON.stringify(tasks));\n}\n\nexport function saveTaskToStorage(task) {\n    const tasks = getTasks();\n    tasks.push(task);\n    saveTasks(tasks);\n}\n\nexport function deleteTaskFromStorage(id) {\n    const tasks = getTasks();\n    const filtered = tasks.filter(task => task.id !== id);\n    saveTasks(filtered);\n}\n\nexport function initStorage() {\n    if (!localStorage.getItem(localKey)) {\n        localStorage.setItem(localKey, JSON.stringify([]));\n    }\n}","import refs from './refs.js';\nimport { createTask } from './markup-tasks.js';\nimport { nanoid } from 'nanoid';\nimport { getTasks, saveTaskToStorage, deleteTaskFromStorage } from './local-storage-api.js';\n\nexport function renderTasks() {\n  const tasks = getTasks();\n  const markup = tasks.map(createTask).join('');\n  refs.taskList.innerHTML = markup;\n}\n\nexport function addTask(event) {\n    event.preventDefault();\n    const titleTask = event.target.taskName.value.trim();\n    const descriptionTask = event.target.taskDescription.value.trim();\n    if (!titleTask || !descriptionTask) {\n        alert(\"Please fill in all fields\");\n        return;\n    }\n    const newTask = {\n        id: nanoid(),\n        titleTask,\n        descriptionTask,\n    };\n    saveTaskToStorage(newTask);\n    refs.taskList.insertAdjacentHTML('beforeend', createTask(newTask));\n    refs.form.reset();\n}\n\nexport function deleteTask(event) {\n    if (!event.target.classList.contains('task-list-item-btn')) return;\n\n        const taskItem = event.target.closest('.task-list-item');\n    const id = taskItem.dataset.id;\n    \n    deleteTaskFromStorage(id);\n    taskItem.remove();\n}","import refs from './refs.js';\n\nexport function changeTheme() {\n  document.body.classList.toggle('theme-dark');\n  document.body.classList.toggle('theme-light');\n}","import refs from './js/refs.js';\nimport { addTask, deleteTask, renderTasks } from './js/render-tasks.js';\nimport { initStorage } from './js/local-storage-api.js';\nimport { changeTheme } from './js/theme-switcher.js';\n\ninitStorage();\nrenderTasks();\n\nrefs.form.addEventListener('submit', addTask);\nrefs.taskList.addEventListener('click', deleteTask);\nrefs.btnTheme.addEventListener('click', changeTheme);\n"],"names":["refs","createTask","id","titleTask","descriptionTask","localKey","getTasks","saveTasks","tasks","saveTaskToStorage","task","deleteTaskFromStorage","filtered","initStorage","renderTasks","markup","addTask","event","newTask","nanoid","deleteTask","taskItem","changeTheme"],"mappings":"svBAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,YAAY,EAC7C,SAAU,SAAS,cAAc,YAAY,CAC/C,ECJO,SAASC,EAAW,CAAE,GAAAC,EAAI,UAAAC,EAAW,gBAAAC,CAAe,EAAI,CAC7D,MAAO;AAAA,0CACiCF,CAAE;AAAA;AAAA,YAEhCC,CAAS;AAAA,WACVC,CAAe;AAAA;AAAA,GAG1B,CCRA,MAAMC,EAAW,WAEV,SAASC,GAAW,CAEvB,OADa,KAAK,MAAM,aAAa,QAAQD,CAAQ,CAAC,GACvC,CAAA,CACnB,CAEO,SAASE,EAAUC,EAAO,CAC7B,aAAa,QAAQH,EAAU,KAAK,UAAUG,CAAK,CAAC,CACxD,CAEO,SAASC,EAAkBC,EAAM,CACpC,MAAMF,EAAQF,IACdE,EAAM,KAAKE,CAAI,EACfH,EAAUC,CAAK,CACnB,CAEO,SAASG,EAAsBT,EAAI,CAEtC,MAAMU,EADQN,IACS,OAAOI,GAAQA,EAAK,KAAOR,CAAE,EACpDK,EAAUK,CAAQ,CACtB,CAEO,SAASC,GAAc,CACrB,aAAa,QAAQR,CAAQ,GAC9B,aAAa,QAAQA,EAAU,KAAK,UAAU,CAAE,CAAA,CAAC,CAEzD,CCtBO,SAASS,GAAc,CAE5B,MAAMC,EADQT,IACO,IAAIL,CAAU,EAAE,KAAK,EAAE,EAC5CD,EAAK,SAAS,UAAYe,CAC5B,CAEO,SAASC,EAAQC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMd,EAAYc,EAAM,OAAO,SAAS,MAAM,OACxCb,EAAkBa,EAAM,OAAO,gBAAgB,MAAM,OAC3D,GAAI,CAACd,GAAa,CAACC,EAAiB,CAChC,MAAM,2BAA2B,EACjC,MACH,CACD,MAAMc,EAAU,CACZ,GAAIC,EAAQ,EACZ,UAAAhB,EACA,gBAAAC,CACR,EACIK,EAAkBS,CAAO,EACzBlB,EAAK,SAAS,mBAAmB,YAAaC,EAAWiB,CAAO,CAAC,EACjElB,EAAK,KAAK,OACd,CAEO,SAASoB,EAAWH,EAAO,CAC9B,GAAI,CAACA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,OAExD,MAAMI,EAAWJ,EAAM,OAAO,QAAQ,iBAAiB,EACrDf,EAAKmB,EAAS,QAAQ,GAE5BV,EAAsBT,CAAE,EACxBmB,EAAS,OAAM,CACnB,CCnCO,SAASC,GAAc,CAC5B,SAAS,KAAK,UAAU,OAAO,YAAY,EAC3C,SAAS,KAAK,UAAU,OAAO,aAAa,CAC9C,CCAAT,IACAC,IAEAd,EAAK,KAAK,iBAAiB,SAAUgB,CAAO,EAC5ChB,EAAK,SAAS,iBAAiB,QAASoB,CAAU,EAClDpB,EAAK,SAAS,iBAAiB,QAASsB,CAAW"}